<script>
  async function fetchGlossaryData() {
    try {
      const response = await fetch('https://raw.githubusercontent.com/VHP4Safety/glossary/refs/heads/main/glossary.ttl');
      const text = await response.text();
      const namespace = 'https://vhp4safety.github.io/glossary#';
      const glossaryData = {};

      // Parse Turtle format using regular expressions
      const lines = text.split('\n');
      let currentSubject = null;
      let currentData = {};

      for (const line of lines) {
        const trimmed = line.trim();
        
        // Skip comments and empty lines
        if (trimmed.startsWith('#') || trimmed === '') continue;
        
        // Check for new subject (IRI)
        const subjectMatch = trimmed.match(/<([^>]+)>/);
        if (subjectMatch && subjectMatch[1].startsWith(namespace)) {
          // Save previous subject if it exists
          if (currentSubject) {
            const id = currentSubject.replace(namespace, '');
            glossaryData[id] = currentData;
          }
          
          currentSubject = subjectMatch[1];
          currentData = { label: 'Not available', description: 'Not available' };
        }
        
        // Extract rdfs:label
        const labelMatch = trimmed.match(/rdfs:label\s+"([^"]+)"/);
        if (labelMatch && currentSubject) {
          currentData.label = labelMatch[1];
        }
        
        // Extract dc:description
        const descMatch = trimmed.match(/dc:description\s+"([^"]+)"/);
        if (descMatch && currentSubject) {
          currentData.description = descMatch[1];
        }
      }
      
      // Don't forget the last subject
      if (currentSubject) {
        const id = currentSubject.replace(namespace, '');
        glossaryData[id] = currentData;
      }

      return glossaryData;
    } catch (error) {
      console.error('Error fetching glossary data:', error);
      return {};
    }
  }

  async function initGlossaryButtons() {
    const glossaryData = await fetchGlossaryData();
    document.querySelectorAll('a[href^="https://vhp4safety.github.io/glossary#"]').forEach(link => {
      const id = link.href.replace('https://vhp4safety.github.io/glossary#', '');
      if (glossaryData[id]) {
        const button = document.createElement('button');
        button.textContent = 'ℹ️';
        button.style.marginLeft = '5px';
        button.onclick = () => {
          alert(`Title: ${id}\nLabel: ${glossaryData[id].label}\nDescription: ${glossaryData[id].description}`);
        };
        link.parentNode.insertBefore(button, link.nextSibling);
      }
    });
  }

  document.addEventListener('DOMContentLoaded', initGlossaryButtons);
</script>

# CDK Depict

<!--- This file is autogenerated. Edit cdkdepict.json to make changes in this page. --->

A webservice to convert SMILES into 2D depictions in either SVG, PNG, and PNG formats.

![CDK Depict logo](https://raw.githubusercontent.com/VHP4Safety/cloud/main/docs/service/cdkdepict.png)

## Documentation

#### VHP4Safety Documentation

* Service Introduction: To be added

* Workflow: To be added

* Demo: To be added

<h4 id='tess-widget-materials-header'></h4>

<div id='tess-widget-materials-list' class='tess-widget tess-widget-list'></div>
<script>
  function initTeSSWidgets() {
    var query = 'cdkdepict';
    if (query.trim() != '') {
      TessWidget.Materials(document.getElementById('tess-widget-materials-list'),
                           'SimpleList',
                           {
                             opts: {
                               enableSearch: false
                             },
                             params: {
                               pageSize: 5,
                               q: query
                             }
                           });
      document.getElementById('tess-widget-materials-header').innerHTML = 'Documentation from ELIXIR TeSS'
    }
}
</script>
<script async='' defer='' src='https://elixirtess.github.io/TeSS_widgets/components/js/tess-widget-standalone.js' onload='initTeSSWidgets()'></script>
## VHP4Safety Service Metadata

* Stage: [https://vhp4safety.github.io/glossary#VHP0000149](https://vhp4safety.github.io/glossary#VHP0000149)

* Sub-Stage: [https://vhp4safety.github.io/glossary#VHP0000148](https://vhp4safety.github.io/glossary#VHP0000148)

* Development Cloud: Not available

* Login Required: no

* TRL: TRL 8 - system complete and qualified

* Type: internal

* Contact: Egon Willighagen ()

* API Type: REST

* Categories: To be added

* Targeted Users: To be added

* Relevant VHP4Safety Use Case: To be added

## Techincal Tool Specifications

* Provider: [simolecule]()

* Citation: [10.1186/s13321-017-0220-4](https://doi.org/10.1186/s13321-017-0220-4)

* Version: 1.9.3

* License: LGPL 2.1

* Source Code: [https://github.com/cdk/depict](https://github.com/cdk/depict)

* Docker: [https://hub.docker.com/r/simolecule/cdkdepict](https://hub.docker.com/r/simolecule/cdkdepict)

* Bio.tools: [cdk_depict](cdk_depict)

* FAIRsharing: Not available

* TeSS: [cdk depict](cdk depict)

* RSD: Not available

* Wikipedia: Not available

<script type="application/ld+json">
  {
    "@context": "https://schema.org/",
    "@type": "SoftwareApplication",
    "http://purl.org/dc/terms/conformsTo": {
      "@type": "CreativeWork", "@id": "https://bioschemas.org/profiles/ComputationalTool/1.0-RELEASE"
    },
    "@id" : "https://vhp4safety.github.io/cloud/service/cdkdepict",
    "name": "CDK Depict",
    "description": "A webservice to convert SMILES into 2D depictions in either SVG, PNG, and PNG formats.",
    "url": "https://cdkdepict.cloud.vhp4safety.nl/"
  }
</script>
